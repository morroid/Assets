"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[68694,61928],{568694:(e,t,n)=>{n.r(t);n.d(t,{default:()=>w});var o=n(785893),r=n(667294),s=n(496486),i=n.n(s),a=n(791462),u=n(489992),l=n(600341),c=n(363157),d=n(28825),h=n(934714),f=n(487502),p=n(138402),g=n(476213),m=n(430834),Z=n(272729),_=n(983319),T=n(962271),v=n(67416),x=n(632895),O=n(405959),E=n(461061),M=n(866452),j=n(959797),V=n(811769),C=n.n(V),b=n(380203),I=n.n(b);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}function L(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){D=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return D(e,t)}var P=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,o=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return L(this,n)}}var S=(0,Z.hQ)(),N=(0,Z.hQ)(),B=(0,Z.hQ)(),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&D(e,t)}(n,e);var t=R(n);function n(){y(this,n);var e;(e=t.apply(this,arguments)).handleAutoThresholdChange=function(t){var n=e.props,o=n.onThresholdChange,r=n.threshold;null==o||o(r,t)}
;e.handleSensitivityChange=function(t){var n=e.props,o=n.onThresholdChange,r=n.autoThreshold;null==o||o(-1*(100-t),r)};return e}var r=n.prototype;r.handleValueRender=function(e){return"".concat((-1*(100-e)).toFixed(0),"dB")};r.renderAutomaticVADToggle=function(){var e=this,t=this.props.autoThreshold;return(0,o.jsx)(Z.FG,{children:function(n){return(0,o.jsxs)(f.Z,{className:I().marginBottom4,children:[(0,o.jsx)(T.Z,{tag:T.$.H3,children:(0,o.jsx)("label",{htmlFor:n,children:j.Z.Messages.FORM_LABEL_AUTOMATIC_VAD})}),(0,o.jsx)(m.Z,{id:n,checked:t,onChange:e.handleAutoThresholdChange})]})}})};r.renderSlider=function(){var e=this.props,t=e.autoThreshold,n=e.threshold;if(!t)return(0,o.jsx)(g.Z,{initialValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,"aria-label":j.Z.Messages.FORM_LABEL_INPUT_SENSITIVTY})};r.render=function(){return(0,o.jsxs)(_.Z,{title:j.Z.Messages.FORM_LABEL_INPUT_SENSITIVTY,className:I().marginBottom8,
children:[this.renderAutomaticVADToggle(),this.renderSlider()]})};return n}(r.PureComponent),F=a.ZP.connectStores([h.Z],(function(e){var t=e.mediaEngineContext;return{inputVolume:h.Z.getInputVolume(),outputVolume:h.Z.getOutputVolume(),inputDeviceId:h.Z.getInputDeviceId(),inputDevices:h.Z.getInputDevices(),outputDevices:h.Z.getOutputDevices(),outputDeviceId:h.Z.getOutputDeviceId(),inputMode:h.Z.getMode(t),shortcut:h.Z.getModeOptions(t).shortcut,vadThreshold:h.Z.getModeOptions(t).threshold,vadAutoThreshold:h.Z.getModeOptions(t).autoThreshold,delay:h.Z.getModeOptions(t).delay}}))((function(e){var t,n=e.mediaEngineContext,s=e.inputMode,a=e.shortcut,u=e.delay,d=e.vadThreshold,h=e.vadAutoThreshold,f=e.inputDevices,m=e.inputDeviceId,Z=e.inputVolume,v=e.outputDeviceId,M=e.outputDevices,V=e.outputVolume,C=e.speaking,b=void 0!==C&&C,y=i().first(f),A=null!=y&&y.disabled,L=i().first(M),D=null!=L&&L.disabled,P=[{value:E.pM4.VOICE_ACTIVITY,name:j.Z.Messages.INPUT_MODE_VAD},{value:E.pM4.PUSH_TO_TALK,
name:j.Z.Messages.INPUT_MODE_PTT}];t=s===E.pM4.PUSH_TO_TALK?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(_.Z,{title:j.Z.Messages.FORM_LABEL_SHORTCUT,className:I().marginBottom20,children:(0,o.jsx)(c.Z,{defaultValue:a,onChange:function(e){return l.Z.setMode(s,{shortcut:e},n)}})}),(0,o.jsxs)(_.Z,{className:I().marginBottom8,children:[(0,o.jsx)(T.Z,{id:S,children:j.Z.Messages.INPUT_MODE_PTT_RELEASE_DELAY}),(0,o.jsx)(g.Z,{initialValue:u,onValueChange:function(e){return l.Z.setMode(s,{delay:e},n)},onValueRender:function(e){return e>=1e3?"".concat((e/=1e3).toFixed(2),"s"):"".concat(e.toFixed(0),"ms")},maxValue:E.qhL,"aria-labelledby":S})]})]}):(0,o.jsx)(U,{speaking:b,inputMode:s,threshold:d,autoThreshold:h,onThresholdChange:function(e,t){return l.Z.setMode(s,{threshold:e,autoThreshold:t},n)}});return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(_.Z,{title:j.Z.Messages.FORM_LABEL_INPUT_DEVICE,className:I().marginBottom20,children:(0,o.jsx)(x.q4,{value:m,onChange:function(e){
return l.Z.setInputDevice(e,"Voice Settings")},options:i().map(f,(function(e){return{value:e.id,label:e.name}})),isDisabled:A})}),(0,o.jsxs)(_.Z,{className:I().marginBottom20,children:[(0,o.jsx)(T.Z,{id:N,children:j.Z.Messages.FORM_LABEL_INPUT_VOLUME}),(0,o.jsx)(g.Z,{initialValue:(0,O.P)(Z),asValueChanges:function(e){return l.Z.setInputVolume((0,O.A)(e))},"aria-labelledby":N})]}),(0,o.jsx)(_.Z,{title:j.Z.Messages.FORM_LABEL_OUTPUT_DEVICE,className:I().marginBottom20,children:(0,o.jsx)(x.q4,{value:v,onChange:function(e){return l.Z.setOutputDevice(e,"Voice Settings")},options:i().map(M,(function(e){return{value:e.id,label:e.name}})),isDisabled:D})}),(0,o.jsxs)(_.Z,{className:I().marginBottom20,children:[(0,o.jsx)(T.Z,{id:B,children:j.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}),(0,o.jsx)(g.Z,{initialValue:(0,O.P)(V),maxValue:200,asValueChanges:function(e){return l.Z.setOutputVolume((0,O.A)(e))},"aria-labelledby":B})]}),(0,o.jsx)(_.Z,{title:j.Z.Messages.FORM_LABEL_INPUT_MODE,
className:I().marginBottom20,children:(0,o.jsx)(p.ZP,{onChange:function(e){var t=e.value;return l.Z.setMode(t,{},n)},options:P,value:s})}),t]})}));function w(e){(0,d.Z)((function(){null!=E.e3s&&e.onClose()}));var t;return(0,o.jsxs)(v.Y0,{transitionState:e.transitionState,"aria-label":j.Z.Messages.VOICE_SETTINGS,children:[(0,o.jsxs)(v.xB,{children:[(0,o.jsxs)(f.Z.Child,{children:[(0,o.jsx)(T.Z,{tag:"h1",className:I().marginReset,children:j.Z.Messages.VOICE_SETTINGS}),(0,o.jsx)(u.xv,{variant:"text-xs/normal",className:C().title,children:e.title})]}),(0,o.jsx)(f.Z.Child,{grow:0,children:(0,o.jsx)(v.ol,{onClick:e.onClose})})]}),(0,o.jsx)(v.hz,{children:(0,o.jsx)(F,{mediaEngineContext:null!==(t=e.mediaEngineContext)&&void 0!==t?t:M.Yn.DEFAULT})})]})}},28825:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),r=n(173436);function s(e){var t=(0,o.useRef)(e);(0,o.useEffect)((function(){t.current=e}),[e]);(0,o.useEffect)((function(){if(__OVERLAY__){var e=function(e){e.locked&&t.current()}
;r.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",e);return function(){r.Z.unsubscribe("OVERLAY_SET_INPUT_LOCKED",e)}}}),[])}}}]);
//# sourceMappingURL=1cca90a501ffb58f37a9.js.map